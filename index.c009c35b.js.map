{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","src/index.js","src/js/modal.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\nimport { openModal } from './js/modal.js';\nimport { closeModal } from './js/modal.js';\n// import SimpleLightbox from 'simplelightbox';\nconst modalContent = document.querySelector('.modal-content');\nconst closeModalBtn = document.querySelector('.close');\n\nconst allCategories = document.querySelector('.all-categories-js');\nconst categorySectionList = document.querySelector('.book-kategories-list-js');\nconst sectionSelectedBooksByCategory =\n  document.querySelector('.books-by-category');\n\ncloseModalBtn.addEventListener('click', closeModal);\nsectionSelectedBooksByCategory.addEventListener('click', e => {\n  openModal();\n  getBookById(e.target.parentElement.id)\n    .then(resp => {\n      console.log(resp);\n      modalContent.innerHTML = ` <img src=\"${resp.book_image}\" alt=\"\">\n      <h4>${resp.title}</h4>\n      <p>${resp.author}</p>\n      <p>${resp.description}</p>\n      `;\n    })\n    .catch(err => console.log(err));\n});\nstartPage();\nfunction startPage() {\n  getBookByCategory().then(resp => {\n    resp.map(book => {\n      sectionSelectedBooksByCategory.insertAdjacentHTML(\n        'beforeend',\n        `\n  <h2>${book.list_name}</h2>\n  `\n      );\n      book.books.map(thisBook => {\n        if (thisBook.list_name === book.list_name) {\n          sectionSelectedBooksByCategory.insertAdjacentHTML(\n            'beforeend',\n            `<div id=\"${thisBook._id}\" hidden>\n          <img src=\"${thisBook.book_image}\" alt=\"\" loading=\"lazy\" width=\"335\">\n          <h4>${thisBook.title}</h4>\n          <p>${thisBook.author}</p>\n      </div>`\n          );\n          if (book.books[0].title === thisBook.title) {\n            const element = document.getElementById(thisBook._id);\n            element.hidden = false;\n          }\n        }\n      });\n    });\n  });\n}\n\ncategorySectionList.addEventListener('click', pushBooksByCategory);\nallCategories.addEventListener('click', () => {\n  getBookByCategory().then(resp => {\n    sectionSelectedBooksByCategory.innerHTML = '';\n\n    resp.map(book => {\n      sectionSelectedBooksByCategory.insertAdjacentHTML(\n        'beforeend',\n        `<h2>${book.list_name}</h2>`\n      );\n      book.books.map(thisBook => {\n        if (thisBook.list_name === book.list_name) {\n          sectionSelectedBooksByCategory.insertAdjacentHTML(\n            'beforeend',\n            `<div id=\"${thisBook._id}\">\n          <img src=\"${thisBook.book_image}\" alt=\"\" loading=\"lazy\" width=\"335\">\n          <h4>${thisBook.title}</h4>\n          <p>${thisBook.author}</p>\n      </div>`\n          );\n        }\n      });\n    });\n  });\n});\n\nfunction pushBooksByCategory(e) {\n  const selectedCategory = e.target.outerText;\n  let booksArr = [];\n  getBookByCategory()\n    .then(resp => {\n      sectionSelectedBooksByCategory.innerHTML = '';\n      const filteredBooks = resp\n        .filter(book => {\n          return book.list_name === selectedCategory;\n        })\n        .map(book => book.books);\n      booksArr.push(...filteredBooks);\n      const filteredByCategoryBooks = booksArr[0];\n      filteredByCategoryBooks.map(book => {\n        sectionSelectedBooksByCategory.insertAdjacentHTML(\n          'beforeend',\n\n\n\n          `<div id='${book._id}' class=\"section-book-card section-card\">\n\n        <img class=\"section-book-card-img\"  src=\"${book.book_image}\" alt=\"\" loading=\"lazy\" width=\"335\">\n        <h4 class=\"section-book-card-title\">${book.title}</h4>\n        <p class=\"section-book-card-text\">${book.author}</p>\n    </div>`\n\n        );\n      });\n    })\n    .catch(err => console.log(err));\n}\n\ngetCategories()\n  .then(resp => {\n    sectionSelectedBooksByCategory.innerHTML = '';\n    if (!resp) {\n      throw new Error('error');\n    }\n    return resp.map(category =>\n      categorySectionList.insertAdjacentHTML(\n        'beforeend',\n        `<li class =\"book-category\">${category.list_name}</li>`\n      )\n    );\n  })\n  .catch(err => console.log(err));\n\ngetBookByCategory()\n  .then(resp => {\n    if (!resp) {\n      throw new Error('error');\n    }\n  })\n  .catch(err => console.log(err));\n","export function openModal() {\n    document.getElementById(\"myModal\").style.display = \"block\";\n  }\n  export function closeModal() {\n    document.getElementById(\"myModal\").style.display = \"none\";\n  }  "],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","obj","parcelRequire","__esModule","len","length","i","arr2","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$b8f9b7833fa37166$var$modalContent","document","querySelector","$b8f9b7833fa37166$var$closeModalBtn","$b8f9b7833fa37166$var$allCategories","$b8f9b7833fa37166$var$categorySectionList","$b8f9b7833fa37166$var$sectionSelectedBooksByCategory","addEventListener","getElementById","style","display","e","getBookById","target","parentElement","id","then","resp","console","log","innerHTML","concat","book_image","title","author","description","catch","err","getBookByCategory","map","book","insertAdjacentHTML","list_name","books","thisBook","_id","hidden","selectedCategory","outerText","booksArr","_booksArr","filteredBooks","filter","push","apply","$parcel$interopDefault","getCategories","Error","category"],"version":3,"file":"index.c009c35b.js.map"}