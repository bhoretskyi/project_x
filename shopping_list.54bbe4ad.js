const e=document.querySelector(".backdrop");function t(){document.getElementById("myModal").style.display="none",document.body.classList.remove("body-scroll-lock"),e.classList.remove("modal-active"),e.removeEventListener("click",t)}function n(e){"Escape"===e.key&&t()}const s=document.querySelector(".shop-list-books-section"),o=document.querySelector(".amazon"),l=document.querySelector(".book-ios"),i=document.querySelector(".book-shop"),c=document.querySelector(".svg"),a=JSON.parse(localStorage.getItem("books"));a.map((e=>{(async function(e){const t=await fetch(`https://books-backend.p.goit.global/books/${e}`);return await t.json()})(e).then((e=>{if(!e)throw new Error("error");let t="";const n=e.description.split(" ");n.length>10&&(t=n.slice(0,10).join(" ")+"..."),s.insertAdjacentHTML("beforeend",`<div class="shopping-list-card">\n    \n          \n        <img class="shopping-list-image"  src="${e.book_image}" alt="">   \n        <div class="shopping-list-info">\n        \n<div class="shopping-list-title-container">\n          \n      <h4 class="shopping-list-title">${e.title}</h4>\n      <h5 class="shopping-list-classlist">${e.list_name}</h5> \n\n      \n       \n      <p class="shopping-list-description" hidden>${e.description}</p>  \n      <p class="shopping-list-description-short">${t}</p>   \n      </div>\n      \n      <div class="shopping-list-book-links">\n      <p class="shopping-list-author">${e.author}</p>\n      <a href="${e.buy_links[0].url}" target="_blank"><img src="${o.src}" alt=""></a>   \n      <a href="${e.buy_links[1].url}" target="_blank"><img src="${l.src}" alt=""></a>   \n      <a href="${e.buy_links[4].url}" target="_blank"><img src="${i.src}" alt=""></a>\n      </div>\n      </div>\n        \n    \n\n      \n      \n      <button type="button" class="trash-btn"><img class="trash-js"  src="${c.src}" alt=""></button>\n      <p hidden>${e._id}</p> \n      </div>\n      \n`)})).catch((e=>console.log(e)))})),s.addEventListener("click",(e=>{if("trash-js"===e.target.className){const t=e.target.parentElement.parentElement.lastElementChild.textContent,n=a.filter((e=>e!==t));localStorage.setItem("books",JSON.stringify(n)),location.reload()}}));const r=document.querySelector(".js-burger"),d=document.querySelector(".js-close-menu");r.addEventListener("click",(()=>{document.getElementById("burgerModal").style.display="block",document.body.classList.add("body-scroll-lock"),document.addEventListener("keydown",n),r.hidden=!0,d.classList.remove("is-hidden-btn")})),d.addEventListener("click",(()=>{document.getElementById("burgerModal").style.display="none",document.body.classList.remove("body-scroll-lock"),d.classList.add("is-hidden-btn"),r.hidden=!1}));
//# sourceMappingURL=shopping_list.54bbe4ad.js.map
