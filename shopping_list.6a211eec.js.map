{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAAsBC,SAASC,cAAc,4BAC7CC,EAASF,SAASC,cAAc,WAChCE,EAAMH,SAASC,cAAc,aAC7BG,EAAOJ,SAASC,cAAc,cAC9BI,EAAWL,SAASC,cAAc,QAElCK,EAAaC,KAAKC,MAAMC,aAAaC,QAAQ,UAEjDJ,EAAWK,KAAI,SAAAC,IACb,EAAAf,EAAAgB,aAAYD,GACTE,MAAK,SAAAC,GACJ,IAAKA,EACH,MAAM,IAAIC,MAAM,SAGlBjB,EAAoBkB,mBAClB,YACA,kBACgEC,OAD9CH,EAAKI,IAAI,kFAGhBD,OAFqDb,EAASe,IAAI,6CAI3EF,OAFSH,EAAKM,WAAW,qCAG1BH,OADCH,EAAKO,MAAM,oBAGZJ,OAFAH,EAAKQ,OAAO,qBAGNL,OADNH,EAAKS,YAAY,2BACyCN,OAApDH,EAAKU,UAAU,GAAGC,IAAI,gCACtBR,OADoDhB,EAAOkB,IAAI,mCACXF,OAApDH,EAAKU,UAAU,GAAGC,IAAI,gCACtBR,OADoDf,EAAIiB,IAAI,kCACRF,OAApDH,EAAKU,UAAU,GAAGC,IAAI,gCAAuCR,OAATd,EAAKgB,IAAI,uE,IAWvEO,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,OAMhC7B,EAAoBgC,iBAAiB,SAAS,SAAAC,GAE1C,GAA2B,aAAvBA,EAAEC,OAAOC,UAA0B,CACnC,IAAMC,EAAiBH,EAAEC,OAAOG,cAAcC,uBAAuBC,YAC/DC,EAAgBjC,EAAWkC,QAAO,SAACC,G,OAASA,IAASN,C,IAC3D1B,aAAaiC,QAAQ,QAASnC,KAAKoC,UAAUJ,IAC7CK,SAASC,Q","sources":["src/js/shop.js"],"sourcesContent":["import { getBookById } from './books_api';\nconst shopListBookSection = document.querySelector('.shop-list-books-section');\nconst amazon = document.querySelector('.amazon');\nconst ios = document.querySelector('.book-ios');\nconst shop = document.querySelector('.book-shop');\nconst trashSvg = document.querySelector('.svg');\n\nconst savedBooks = JSON.parse(localStorage.getItem('books'));\nfunction paintBooksFromLocalstorage() {\n  savedBooks.map(book => {\n    getBookById(book)\n      .then(resp => {\n        if (!resp) {\n          throw new Error('error');\n        }\n\n        shopListBookSection.insertAdjacentHTML(\n          'beforeend',\n          `<div><p hidden>${resp._id}</p>\n    <button type=\"button\" class=\"trash-btn\"><img class=\"trash-js\"  src=\"${trashSvg.src}\" alt=\"\"></button>\n\n        <img  src=\"${resp.book_image}\" alt=\"\"> \n         \n      <h4>${resp.title}</h4>\n      <p>${resp.author}</p>\n\n      <p>${resp.description}</p>  \n      <a href=\"${resp.buy_links[0].url}\" target=\"_blank\"><img src=\"${amazon.src}\" alt=\"\"></a> \n      <a href=\"${resp.buy_links[1].url}\" target=\"_blank\"><img src=\"${ios.src}\" alt=\"\"></a>\n      <a href=\"${resp.buy_links[4].url}\" target=\"_blank\"><img src=\"${shop.src}\" alt=\"\"></a>\n    \n\n      \n      \n    \n      </div>\n      \n`\n        );\n      })\n      .catch(err => console.log(err));\n  });\n}\n\npaintBooksFromLocalstorage();\n\nshopListBookSection.addEventListener('click', e => {\n   \n    if (e.target.className === 'trash-js') {\n        const bookToRemoveId = e.target.parentElement.previousElementSibling.textContent\n        const newSavedBooks = savedBooks.filter((item) => item !== bookToRemoveId);\n        localStorage.setItem('books', JSON.stringify(newSavedBooks))\n        location.reload()\n        \n        \n        \n    }\n\n});\n\n// const trashButton = document.querySelector('.trash-btn');\n\n// trashButton.addEventListener('click', e => {\n//     e.stopPropagation()\n//   console.log(e.target);\n// });\n"],"names":["$4LYdF","parcelRequire","$3f17f0eca129ffdb$var$shopListBookSection","document","querySelector","$3f17f0eca129ffdb$var$amazon","$3f17f0eca129ffdb$var$ios","$3f17f0eca129ffdb$var$shop","$3f17f0eca129ffdb$var$trashSvg","$3f17f0eca129ffdb$var$savedBooks","JSON","parse","localStorage","getItem","map","book","getBookById","then","resp","Error","insertAdjacentHTML","concat","_id","src","book_image","title","author","description","buy_links","url","catch","err","console","log","addEventListener","e","target","className","bookToRemoveId","parentElement","previousElementSibling","textContent","newSavedBooks","filter","item","setItem","stringify","location","reload"],"version":3,"file":"shopping_list.6a211eec.js.map"}