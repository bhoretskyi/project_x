{"mappings":"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","sources":["src/js/shop.js"],"sourcesContent":["import { Loading } from 'notiflix';\nimport { openBurgerModal, closeBurgerModal } from './modal';\nimport { getBookById } from './books_api';\n\n//Блок Смена фона///////////////////////////////////\nconst checkBox = document.querySelector('.checkbox');\nconst svgIconHeader = document.querySelector('.icon-bookshelf');\nconst listItemQ = document.querySelector('.book-categories-list');\nconst svgIconShop = document.querySelector('.list-btn-svg');\nconst headerFone = document.querySelector('.header-container');\nconst section = document.querySelector('.shop-list-books-section');\nconst shopTitleGen = document.querySelector('.shop-list-section-title');\n\ncheckBox.addEventListener('change', chengeThemeShopp);\n\nfunction chengeThemeShopp() {\n  \n  if (localStorage.getItem('thema') === 'dark-thema') {\n    localStorage.removeItem('thema');\n  //   const cardFone = section.getElementsByClassName('shopping-list-card');\n  // console.log(cardFone);\n  // for (const card of cardFone) {\n  //   card.classList.toggle('shopping-card');\n  //   const textTitle = card.getElementsByClassName('shopping-list-title');\n  //   console.log(textTitle);\n  //   for (const title of textTitle) {\n  //     title.classList.toggle('title-color');\n  //   }\n  // } \n  } else {\n    localStorage.setItem('thema', 'dark-thema');\n  //   const cardFone = section.getElementsByClassName('shopping-list-card');\n  // for (const card of cardFone) {\n  //   card.classList.toggle('shopping-card');\n  //   const textTitle = card.getElementsByClassName('shopping-list-title');\n  //   for (const title of textTitle) {\n  //     title.classList.toggle('title-color');\n  //   }\n  // }\n  }\n  addDarkClassThemaShop();\n}\n  \n\nfunction addDarkClassThemaShop() {\n  try {\n    if (localStorage.getItem('thema') === 'dark-thema') {\n      document.body.classList.add('dark-thema');\n      headerFone.classList.add('header-fone');\n      shopTitleGen.classList.add('title-color');\n        const cardFone = section.getElementsByClassName('shopping-list-card');\n  \n  for (const card of cardFone) {\n    card.classList.add('shopping-card');\n    const textTitle = card.getElementsByClassName('shopping-list-title');\n    \n    \n    for (const title of textTitle) {\n      title.classList.add('title-color');\n    }\n  } \n    } else {\n      document.body.classList.remove('dark-thema');\n      headerFone.classList.remove('header-fone');\n      shopTitleGen.classList.remove('title-color');\n      const cardFone = section.getElementsByClassName('shopping-list-card');\n  for (const card of cardFone) {\n    card.classList.remove('shopping-card');\n    const textTitle = card.getElementsByClassName('shopping-list-title');     \n    for (const title of textTitle) {\n      title.classList.remove('title-color');\n    }\n  }\n    }\n  }\n  catch (err) { }    \n};\n\naddDarkClassThemaShop();\n\n\n\nconst shopListBookSection = document.querySelector('.shop-list-books-section');  \nconst amazon = document.querySelector('.amazon');\nconst ios = document.querySelector('.book-ios');\nconst shop = document.querySelector('.book-shop');\nconst trashSvg = document.querySelector('.svg');\nconst homeBtn = document.querySelector('.home-btn');\nhomeBtn.classList.remove('current');\nconst shoplistBtn = document.querySelector('.list-btn');\nshoplistBtn.classList.add('current');\n\nconst savedBooks = JSON.parse(localStorage.getItem('books'));\nfunction paintBooksFromLocalstorage() {\n  savedBooks.map(book => {\n    getBookById(book)\n      .then(resp => {\n        Loading.remove();\n        if (!resp) {\n          throw new Error('error');\n        }\n        let shortdescription = '';\n        const words = resp.description.split(' ');\n        if (words.length > 10) {\n          shortdescription = words.slice(0, 10).join(' ') + '...';\n        }\n\n        shopListBookSection.insertAdjacentHTML(\n          'beforeend',\n          `<div class=\"shopping-list-card\">\n    \n          \n        <img class=\"shopping-list-image\"  src=\"${resp.book_image}\" alt=\"\">   \n        <div class=\"shopping-list-info\">\n        \n<div class=\"shopping-list-title-container\">\n          \n      <h4 class=\"shopping-list-title\">${resp.title}</h4>\n      <h5 class=\"shopping-list-classlist\">${resp.list_name}</h5> \n\n      \n       \n      <p class=\"shopping-list-description\" hidden>${resp.description}</p>  \n      <p class=\"shopping-list-description-short\">${shortdescription}</p>   \n      </div>\n      \n      <div class=\"shopping-list-book-links\">\n      <p class=\"shopping-list-author\">${resp.author}</p>\n      <a href=\"${resp.buy_links[0].url}\" target=\"_blank\"><img src=\"${amazon.src}\" alt=\"\"></a>   \n      <a href=\"${resp.buy_links[1].url}\" target=\"_blank\"><img src=\"${ios.src}\" alt=\"\"></a>    \n      <a href=\"${resp.buy_links[4].url}\" target=\"_blank\"><img src=\"${shop.src}\" alt=\"\"></a> \n      </div>\n      </div>\n        \n    \n\n      \n      \n      <button type=\"button\" class=\"trash-btn\"><img class=\"trash-js\"  src=\"${trashSvg.src}\" alt=\"\"></button>\n      <p hidden>${resp._id}</p> \n      </div>\n      \n`\n        );\n      })\n      .catch(err => {\n        Notiflix.Notify.failure(\n          'Oops... something went wrong. Please reload the page'\n        );\n        console.log(err);\n      });\n  });\n}\n\npaintBooksFromLocalstorage();\n\nshopListBookSection.addEventListener('click', e => {\n  if (e.target.className === 'trash-js') {\n    const bookToRemoveId =\n      e.target.parentElement.parentElement.lastElementChild.textContent;\n    const newSavedBooks = savedBooks.filter(item => item !== bookToRemoveId);\n    localStorage.setItem('books', JSON.stringify(newSavedBooks));\n    location.reload();\n  }\n});\n\n// const trashButton = document.querySelector('.trash-btn');\n\n// trashButton.addEventListener('click', e => {\n//     e.stopPropagation()\n//   console.log(e.target);\n// });\n\n\n\n\n\n\n// function chengeThemeShopp() {\n\n\n\n\n\n  // svgIconHeader.classList.toggle('svg-icon-header');\n  // svgIconShop.classList.toggle('svg-icon-header');\n  // headerFone.classList.toggle('header-fone');\n  // shopTitleGen.classList.toggle('title-color');\n\n  // const cardFone = section.getElementsByClassName('shopping-list-card');\n  // console.log(cardFone);\n  // for (const card of cardFone) {\n  //   card.classList.toggle('shopping-card');\n  //   const textTitle = card.getElementsByClassName('shopping-list-title');\n  //   console.log(textTitle);\n  //   for (const title of textTitle) {\n  //     title.classList.toggle('title-color');\n  //   }\n  // }\n//   console.log(cardFone);\n// }\n\n///////////////////////////////////////////////////////////////////////////\n\nconst burgerBtn = document.querySelector('.js-burger');\nconst burgerCloseBtn = document.querySelector('.js-close-menu');\n\nburgerBtn.addEventListener('click', () => {\n  openBurgerModal();\n  burgerBtn.hidden = true;\n  burgerCloseBtn.classList.remove('is-hidden-btn');\n});\nburgerCloseBtn.addEventListener('click', () => {\n  closeBurgerModal();\n  burgerCloseBtn.classList.add('is-hidden-btn');\n  burgerBtn.hidden = false;\n});\n\nfunction chekWindowSize() {\n  if (window.innerWidth >= 768) {\n    closeBurgerModal();\n    burgerCloseBtn.classList.add('is-hidden-btn');\n    burgerBtn.hidden = false;\n  }\n}\nwindow.addEventListener('resize', chekWindowSize);\n\n$(function () {\n  $('.slider').slick({\n    vertical: true,\n    verticalSwiping: true,\n    slidesToShow: 6,\n    autoplay: false,\n  });\n});\n"],"names":["$6JpON","parcelRequire","$3f17f0eca129ffdb$var$checkBox","document","querySelector","$3f17f0eca129ffdb$var$headerFone","$3f17f0eca129ffdb$var$section","$3f17f0eca129ffdb$var$shopTitleGen","$3f17f0eca129ffdb$var$addDarkClassThemaShop","localStorage","getItem","body","classList","add","cardFone","getElementsByClassName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","card","value","textTitle","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","err","return","remove","cardFone1","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","card1","textTitle1","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","addEventListener","removeItem","setItem","$3f17f0eca129ffdb$var$shopListBookSection","$3f17f0eca129ffdb$var$amazon","$3f17f0eca129ffdb$var$ios","$3f17f0eca129ffdb$var$shop","$3f17f0eca129ffdb$var$trashSvg","$3f17f0eca129ffdb$var$savedBooks","JSON","parse","map","book","$4LYdF","getBookById","then","resp","Loading","Error","shortdescription","words","description","split","length","slice","join","insertAdjacentHTML","concat","book_image","title","list_name","author","buy_links","url","src","_id","catch","Notiflix","Notify","failure","console","log","e","target","className","bookToRemoveId","parentElement","lastElementChild","textContent","newSavedBooks","filter","item","stringify","location","reload","$3f17f0eca129ffdb$var$burgerBtn","$3f17f0eca129ffdb$var$burgerCloseBtn","$5xtVg","openBurgerModal","hidden","closeBurgerModal","window","innerWidth","$","slick","vertical","verticalSwiping","slidesToShow","autoplay"],"version":3,"file":"shopping_list.138a5004.js.map"}