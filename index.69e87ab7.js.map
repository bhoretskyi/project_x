{"mappings":"AAQOA,eAAeC,IACpB,MAAMC,QAAiBC,MAAM,uDAE7B,aAD6BD,EAASE,M,CCPxC,MAAMC,EAAkBC,SAASC,cAAc,uBACzCC,EAAsBF,SAASC,cAAc,4BAC7CE,EACJH,SAASC,cAAc,sBACzBF,EAAgBK,iBAAiB,SAEjC,SAA6BC,GAC3B,MAAMC,EAAmBD,EAAEE,OAAOC,UAClC,IAAIC,EAAW,GACfd,IACGe,MAAKC,IACJ,MAAMC,EAAgBD,EACnBE,QAAOC,GACCA,EAAKC,YAAcT,IAE3BU,KAAIF,GAAQA,EAAKG,QACpBR,EAASS,QAAQN,GACeH,EAAS,GACjBO,KAAIF,IAC1BK,QAAQC,IAAIN,GACZX,EAA+BkB,mBAAmB,YAAY,4BAClDP,EAAKQ,oCACXR,EAAKS,0BACNT,EAAKU,yBACL,GACL,IAEHC,OAAMC,GAAOP,QAAQC,IAAIM,I,ID5BvBhC,iBACL,MAAME,QAAiBC,MAAM,2DAE7B,aADuBD,EAASE,M,CC6BlC,GACGY,MAAKC,IACJ,IAAKA,EACH,MAAM,IAAIgB,MAAM,SAElB,OAAOhB,EAAKK,KAAIY,GACd1B,EAAoBmB,mBAClB,YACA,8BAA8BO,EAASb,mBAE1C,IAEFU,OAAMC,GAAOP,QAAQC,IAAIM,KAE5B/B,IACGe,MAAKC,IACJ,IAAKA,EACH,MAAM,IAAIgB,MAAM,QAAQ,IAG3BF,OAAMC,GAAOP,QAAQC,IAAIM","sources":["src/js/books_api.js","src/index.js"],"sourcesContent":["const API = 'https://books-backend.p.goit.global';\n\nexport async function getCategories() {\n  const response = await fetch(`${API}/books/category-list`);\n  const category = await response.json();\n  return category;\n}\n\nexport async function getBookByCategory() {\n  const response = await fetch(`${API}/books/top-books`);\n  const bookByCategory = await response.json()\n  return bookByCategory\n}\n","import { getCategories } from './js/books_api.js';\nimport { getBookByCategory } from './js/books_api.js';\n\nconst categorySection = document.querySelector('.book-kategories-js');\nconst categorySectionList = document.querySelector('.book-kategories-list-js');\nconst sectionSelectedBooksByCategory =\n  document.querySelector('.books-by-category');\ncategorySection.addEventListener('click', pushBooksByCategory);\n\nfunction pushBooksByCategory(e) {\n  const selectedCategory = e.target.outerText;\n  let booksArr = [];\n  getBookByCategory()\n    .then(resp => {\n      const filteredBooks = resp\n        .filter(book => {\n          return book.list_name === selectedCategory;\n        })\n        .map(book => book.books);\n      booksArr.push(...filteredBooks);\n      const filteredByCategoryBooks = booksArr[0];\n      filteredByCategoryBooks.map(book => {\n        console.log(book);\n        sectionSelectedBooksByCategory.insertAdjacentHTML('beforeend',`<div>\n        <img src=\"${book.book_image}\" alt=\"\">\n        <h3>${book.title}</h3>\n        <p>${book.author}</p>\n    </div>` );\n      });\n    })\n    .catch(err => console.log(err));\n}\n\ngetCategories()\n  .then(resp => {\n    if (!resp) {\n      throw new Error('error');\n    }\n    return resp.map(category =>\n      categorySectionList.insertAdjacentHTML(\n        'beforeend',\n        `<li class =\"book-category\">${category.list_name}</li>`\n      )\n    );\n  })\n  .catch(err => console.log(err));\n\ngetBookByCategory()\n  .then(resp => {\n    if (!resp) {\n      throw new Error('error');\n    }\n  })\n  .catch(err => console.log(err));\n"],"names":["async","$0af74fd4d73caa0f$export$3356e9d9184fb14f","response","fetch","json","$1f0dc3b9307be026$var$categorySection","document","querySelector","$1f0dc3b9307be026$var$categorySectionList","$1f0dc3b9307be026$var$sectionSelectedBooksByCategory","addEventListener","e","selectedCategory","target","outerText","booksArr","then","resp","filteredBooks","filter","book","list_name","map","books","push","console","log","insertAdjacentHTML","book_image","title","author","catch","err","Error","category"],"version":3,"file":"index.69e87ab7.js.map"}