{"mappings":"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","sources":["src/js/modal.js","src/js/shop.js","src/js/books_api.js"],"sourcesContent":["const backdrop = document.querySelector('.backdrop');\n\nexport function openModal() {\n  document.getElementById('myModal').style.display = 'block';\n  document.body.classList.add('body-scroll-lock');\n  backdrop.classList.add('modal-active');\n  document.addEventListener('keydown', onEscapeKey);\n  backdrop.addEventListener('click', closeModal);\n} \nexport function closeModal() {\n  document.getElementById('myModal').style.display = 'none';\n  document.body.classList.remove('body-scroll-lock');\n  backdrop.classList.remove('modal-active');\n  backdrop.removeEventListener('click', closeModal);\n}\n\nfunction onEscapeKey(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n \nexport function openBurgerModal() {\n  document.getElementById('burgerModal').style.display = 'block';        \n   \n  document.body.classList.add('body-scroll-lock'); \n   \n  // backdrop.classList.add('modal-active');\n  document.addEventListener('keydown', onEscapeKey)\n  // backdrop.addEventListener('click', closeModal)\n}\nexport function closeBurgerModal() {\n  document.getElementById('burgerModal').style.display = 'none';  \n  document.body.classList.remove('body-scroll-lock'); \n  // backdrop.classList.remove('modal-active')\n  // backdrop.removeEventListener('click', closeModal)\n}\n\n","import { openBurgerModal, closeBurgerModal } from './modal';\nimport { getBookById } from './books_api';\nconst shopListBookSection = document.querySelector('.shop-list-books-section');\nconst amazon = document.querySelector('.amazon');\nconst ios = document.querySelector('.book-ios');\nconst shop = document.querySelector('.book-shop');\nconst trashSvg = document.querySelector('.svg');\nconst homeBtn = document.querySelector('.home-btn')\nhomeBtn.classList.remove('current')\nconst shoplistBtn = document.querySelector('.list-btn')\nshoplistBtn.classList.add('current')\n\nconst savedBooks = JSON.parse(localStorage.getItem('books'));\nfunction paintBooksFromLocalstorage() {\n  savedBooks.map(book => {\n    getBookById(book)\n      .then(resp => {\n        if (!resp) {\n          throw new Error('error');\n        }\n        let shortdescription = ''\n        const words = resp.description.split(' ')\n        if (words.length > 10) {\n          shortdescription = words.slice(0, 10).join(' ') + '...';  \n        }\n\n        shopListBookSection.insertAdjacentHTML(\n          'beforeend',\n          `<div class=\"shopping-list-card\">\n    \n          \n        <img class=\"shopping-list-image\"  src=\"${resp.book_image}\" alt=\"\">   \n        <div class=\"shopping-list-info\">\n        \n<div class=\"shopping-list-title-container\">\n          \n      <h4 class=\"shopping-list-title\">${resp.title}</h4>\n      <h5 class=\"shopping-list-classlist\">${resp.list_name}</h5> \n\n      \n       \n      <p class=\"shopping-list-description\" hidden>${resp.description}</p>  \n      <p class=\"shopping-list-description-short\">${shortdescription}</p>   \n      </div>\n      \n      <div class=\"shopping-list-book-links\">\n      <p class=\"shopping-list-author\">${resp.author}</p>\n      <a href=\"${resp.buy_links[0].url}\" target=\"_blank\"><img src=\"${amazon.src}\" alt=\"\"></a>   \n      <a href=\"${resp.buy_links[1].url}\" target=\"_blank\"><img src=\"${ios.src}\" alt=\"\"></a>   \n      <a href=\"${resp.buy_links[4].url}\" target=\"_blank\"><img src=\"${shop.src}\" alt=\"\"></a>\n      </div>\n      </div>\n        \n    \n\n      \n      \n      <button type=\"button\" class=\"trash-btn\"><img class=\"trash-js\"  src=\"${trashSvg.src}\" alt=\"\"></button>\n      <p hidden>${resp._id}</p> \n      </div>\n      \n`\n        );\n        \n        \n      })\n      .catch(err => console.log(err));\n  });\n}\n\npaintBooksFromLocalstorage();\n\nshopListBookSection.addEventListener('click', e => {  \n  if (e.target.className === 'trash-js') {\n\n\n  \n    const bookToRemoveId =\n    e.target.parentElement.parentElement.lastElementChild.textContent\n    const newSavedBooks = savedBooks.filter(item => item !== bookToRemoveId);    \n    localStorage.setItem('books', JSON.stringify(newSavedBooks)); \n    location.reload();\n  }\n});\n\n// const trashButton = document.querySelector('.trash-btn');\n\n// trashButton.addEventListener('click', e => {\n//     e.stopPropagation()\n//   console.log(e.target);\n// });\n\n\n\nconst checkBox = document.querySelector('.checkbox')\n //console.log(loginForm);\nconst svgIconHeader = document.querySelector('.icon-bookshelf');\nconst listItemQ = document.querySelector('.book-categories-list');\nconst svgIconShop = document.querySelector('.list-btn-svg');\nconst headerFone = document.querySelector('.header-container');\nconst section = document.querySelector('.shop-list-books-section')\n//const shoppingListtitle = document.querySelector('section.div')\n//console.log(shoppingListtitle.textContent);\n\ncheckBox.addEventListener('change', chengeThemeShopp);\n\nfunction chengeThemeShopp() {\n  console.log('Клик работает')\n  document.body.classList.toggle('dark-thema');\n  svgIconHeader.classList.toggle('svg-icon-header');\n  svgIconShop.classList.toggle('svg-icon-header');\n  headerFone.classList.toggle('header-fone');\n  //shoppingListCard.classList.toggle('shopping-card');\n  //shoppingListtitle.classList.toggle('shopping-card');\n  const ttt = section.getElementsByClassName('shopping-list-card');\n  console.log(ttt);\n  for (const a of ttt) {\n    a.classList.toggle('shopping-card'); \n  }\n  console.log(ttt)\n  \n\n} \n\nconst burgerBtn = document.querySelector('.js-burger');\nconst burgerCloseBtn = document.querySelector('.js-close-menu');\n\nburgerBtn.addEventListener('click', () => {\n  openBurgerModal();\n  burgerBtn.hidden = true;\n  burgerCloseBtn.classList.remove('is-hidden-btn');\n});\nburgerCloseBtn.addEventListener('click', () => {\n  closeBurgerModal();\n  burgerCloseBtn.classList.add('is-hidden-btn');\n  burgerBtn.hidden = false;\n});\n\nfunction chekWindowSize () {\n  if (window.innerWidth >= 768) {\n    closeBurgerModal()\n    burgerCloseBtn.classList.add('is-hidden-btn');\n  burgerBtn.hidden = false;\n    \n  }\n}\nwindow.addEventListener('resize', chekWindowSize )\n\n","const API = 'https://books-backend.p.goit.global';\n\nexport async function getCategories() {\n  const response = await fetch(`${API}/books/category-list`);\n  const category = await response.json();\n  return category;\n}\n\nexport async function getBestBook() {\n  const response = await fetch(`${API}/books/top-books`);\n  const bookByCategory = await response.json();\n  return bookByCategory;\n}\n\nexport async function getBookById(id) {\n  const response = await fetch(`${API}/books/${id}`);\n  const bookById = await response.json();\n  return bookById;\n}\n\nexport async function getBookByCategory(category) {\n  const response = await fetch(`${API}/books/category?category=${category}`);\n  const bookByCategory = await response.json();\n  return bookByCategory;\n}\n\n"],"names":["$8a7e756c566dd1ea$var$backdrop","document","querySelector","$8a7e756c566dd1ea$export$3f6fecd573f3fa48","getElementById","style","display","body","classList","remove","removeEventListener","$8a7e756c566dd1ea$var$onEscapeKey","e","key","$8a7e756c566dd1ea$export$46bd010cdd93c7fe","$56ca8cd0ce8095f1$var$shopListBookSection","$56ca8cd0ce8095f1$var$amazon","$56ca8cd0ce8095f1$var$ios","$56ca8cd0ce8095f1$var$shop","$56ca8cd0ce8095f1$var$trashSvg","add","$56ca8cd0ce8095f1$var$savedBooks","JSON","parse","localStorage","getItem","map","book","async","id","response","fetch","json","then","resp","Error","shortdescription","words","description","split","length","slice","join","insertAdjacentHTML","book_image","title","list_name","author","buy_links","url","src","_id","catch","err","console","log","addEventListener","target","className","bookToRemoveId","parentElement","lastElementChild","textContent","newSavedBooks","filter","item","setItem","stringify","location","reload","$56ca8cd0ce8095f1$var$checkBox","$56ca8cd0ce8095f1$var$svgIconHeader","$56ca8cd0ce8095f1$var$svgIconShop","$56ca8cd0ce8095f1$var$headerFone","$56ca8cd0ce8095f1$var$section","toggle","ttt","getElementsByClassName","a","$56ca8cd0ce8095f1$var$burgerBtn","$56ca8cd0ce8095f1$var$burgerCloseBtn","hidden","window","innerWidth"],"version":3,"file":"shopping_list.ebc8791c.js.map"}