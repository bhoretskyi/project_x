{"mappings":"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","sources":["src/js/shop.js"],"sourcesContent":["import { Loading } from 'notiflix';\nimport { openBurgerModal, closeBurgerModal } from './modal';\nimport { getBookById } from './books_api';\nconst shopListBookSection = document.querySelector('.shop-list-books-section');\nconst amazon = document.querySelector('.amazon');\nconst ios = document.querySelector('.book-ios');\nconst shop = document.querySelector('.book-shop');\nconst trashSvg = document.querySelector('.svg');\nconst homeBtn = document.querySelector('.home-btn');\nhomeBtn.classList.remove('current');\nconst shoplistBtn = document.querySelector('.list-btn');\nshoplistBtn.classList.add('current');\n\nconst savedBooks = JSON.parse(localStorage.getItem('books'));\nfunction paintBooksFromLocalstorage() {\n  savedBooks.map(book => {\n    getBookById(book)\n      .then(resp => {\n        Loading.remove();\n        if (!resp) {\n          throw new Error('error');\n        }\n        let shortdescription = '';\n        const words = resp.description.split(' ');\n        if (words.length > 10) {\n          shortdescription = words.slice(0, 10).join(' ') + '...';\n        }\n\n        shopListBookSection.insertAdjacentHTML(\n          'beforeend',\n          `<div class=\"shopping-list-card\">\n    \n          \n        <img class=\"shopping-list-image\"  src=\"${resp.book_image}\" alt=\"\">   \n        <div class=\"shopping-list-info\">\n        \n<div class=\"shopping-list-title-container\">\n          \n      <h4 class=\"shopping-list-title\">${resp.title}</h4>\n      <h5 class=\"shopping-list-classlist\">${resp.list_name}</h5> \n\n      \n       \n      <p class=\"shopping-list-description\" hidden>${resp.description}</p>  \n      <p class=\"shopping-list-description-short\">${shortdescription}</p>   \n      </div>\n      \n      <div class=\"shopping-list-book-links\">\n      <p class=\"shopping-list-author\">${resp.author}</p>\n      <a href=\"${resp.buy_links[0].url}\" target=\"_blank\"></a>   \n      <a href=\"${resp.buy_links[1].url}\" target=\"_blank\"></a>   \n      <a href=\"${resp.buy_links[4].url}\" target=\"_blank\"></a>\n      </div>\n      </div>\n        \n    \n\n      \n      \n      <button type=\"button\" class=\"trash-btn\"><img class=\"trash-js\"  src=\"${trashSvg.src}\" alt=\"\"></button>\n      <p hidden>${resp._id}</p> \n      </div>\n      \n`\n        );\n      })\n      .catch(err => {\n        Notiflix.Notify.failure(\n          'Oops... something went wrong. Please reload the page'\n        );\n        console.log(err);\n      });\n  });\n}\n\npaintBooksFromLocalstorage();\n\nshopListBookSection.addEventListener('click', e => {\n  if (e.target.className === 'trash-js') {\n    const bookToRemoveId =\n      e.target.parentElement.parentElement.lastElementChild.textContent;\n    const newSavedBooks = savedBooks.filter(item => item !== bookToRemoveId);\n    localStorage.setItem('books', JSON.stringify(newSavedBooks));\n    location.reload();\n  }\n});\n\n// const trashButton = document.querySelector('.trash-btn');\n\n// trashButton.addEventListener('click', e => {\n//     e.stopPropagation()\n//   console.log(e.target);\n// });\n\nconst checkBox = document.querySelector('.checkbox');\n//console.log(loginForm);\nconst svgIconHeader = document.querySelector('.icon-bookshelf');\nconst listItemQ = document.querySelector('.book-categories-list');\nconst svgIconShop = document.querySelector('.list-btn-svg');\nconst headerFone = document.querySelector('.header-container');\nconst section = document.querySelector('.shop-list-books-section');\nconst shopTitleGen = document.querySelector('.shop-list-section-title');\n//console.log(shoppingListtitle.textContent);\n\ncheckBox.addEventListener('change', chengeThemeShopp);\n\nfunction chengeThemeShopp() {\n  console.log('Клик работает');\n  document.body.classList.toggle('dark-thema');\n  svgIconHeader.classList.toggle('svg-icon-header');\n  svgIconShop.classList.toggle('svg-icon-header');\n  headerFone.classList.toggle('header-fone');\n  shopTitleGen.classList.toggle('title-color');\n  //shoppingListtitle.classList.toggle('shopping-card');\n  const cardFone = section.getElementsByClassName('shopping-list-card');\n  console.log(cardFone);\n  for (const card of cardFone) {\n    card.classList.toggle('shopping-card');\n    const textTitle = card.getElementsByClassName('shopping-list-title');\n    console.log(textTitle);\n    for (const title of textTitle) {\n      title.classList.toggle('title-color');\n    }\n  }\n  console.log(cardFone);\n}\n\nconst burgerBtn = document.querySelector('.js-burger');\nconst burgerCloseBtn = document.querySelector('.js-close-menu');\n\nburgerBtn.addEventListener('click', () => {\n  openBurgerModal();\n  burgerBtn.hidden = true;\n  burgerCloseBtn.classList.remove('is-hidden-btn');\n});\nburgerCloseBtn.addEventListener('click', () => {\n  closeBurgerModal();\n  burgerCloseBtn.classList.add('is-hidden-btn');\n  burgerBtn.hidden = false;\n});\n\nfunction chekWindowSize() {\n  if (window.innerWidth >= 768) {\n    closeBurgerModal();\n    burgerCloseBtn.classList.add('is-hidden-btn');\n    burgerBtn.hidden = false;\n  }\n}\nwindow.addEventListener('resize', chekWindowSize);\n\n$(function () {\n  $('.slider').slick({\n    vertical: true,\n    verticalSwiping: true,\n    slidesToShow: 6,\n    autoplay: false,\n  });\n});\n"],"names":["$7Y9D8","parcelRequire","$56ca8cd0ce8095f1$var$shopListBookSection","document","querySelector","$56ca8cd0ce8095f1$var$trashSvg","classList","remove","add","$56ca8cd0ce8095f1$var$savedBooks","JSON","parse","localStorage","getItem","map","book","$Wn4jt","getBookById","then","resp","Loading","Error","shortdescription","words","description","split","length","slice","join","insertAdjacentHTML","book_image","title","list_name","author","buy_links","url","src","_id","catch","err","Notiflix","Notify","failure","console","log","addEventListener","e","target","className","bookToRemoveId","parentElement","lastElementChild","textContent","newSavedBooks","filter","item","setItem","stringify","location","reload","$56ca8cd0ce8095f1$var$checkBox","$56ca8cd0ce8095f1$var$svgIconHeader","$56ca8cd0ce8095f1$var$svgIconShop","$56ca8cd0ce8095f1$var$headerFone","$56ca8cd0ce8095f1$var$section","$56ca8cd0ce8095f1$var$shopTitleGen","body","toggle","cardFone","getElementsByClassName","card","textTitle","$56ca8cd0ce8095f1$var$burgerBtn","$56ca8cd0ce8095f1$var$burgerCloseBtn","$bTcpz","openBurgerModal","hidden","closeBurgerModal","window","innerWidth","$","slick","vertical","verticalSwiping","slidesToShow","autoplay"],"version":3,"file":"shopping_list.e367e52b.js.map"}