{"mappings":"AAIA,MAAMA,EAAeC,SAASC,cAAc,kBACtCC,EAAgBF,SAASC,cAAc,UAEvCE,EAAgBH,SAASC,cAAc,sBACvCG,EAAsBJ,SAASC,cAAc,4BAC7CI,EACJL,SAASC,cAAc,sBAEzBC,EAAcI,iBAAiB,SCTtB,WACLN,SAASO,eAAe,WAAWC,MAAMC,QAAU,M,IDSvDJ,EAA+BC,iBAAiB,SAASI,ICZrDV,SAASO,eAAe,WAAWC,MAAMC,QAAU,QDcrDE,YAAYD,EAAEE,OAAOC,cAAcC,IAChCC,MAAKC,IACJC,QAAQC,IAAIF,GACZjB,EAAaoB,UAAY,cAAcH,EAAKI,kCACtCJ,EAAKK,wBACNL,EAAKM,wBACLN,EAAKO,yBACT,IAEFC,OAAMC,GAAOR,QAAQC,IAAIO,IAAK,IAIjCC,oBAAoBX,MAAKC,IACvBA,EAAKW,KAAIC,IACPvB,EAA+BwB,mBAC7B,YACA,WACAD,EAAKE,sBAGPF,EAAKG,MAAMJ,KAAIK,IACTA,EAASF,YAAcF,EAAKE,YAC9BzB,EAA+BwB,mBAC7B,YACA,YAAYG,EAASC,qCACXD,EAASZ,iEACfY,EAASX,4BACVW,EAASV,4BAGVM,EAAKG,MAAM,GAAGV,QAAUW,EAASX,SACnBrB,SAASO,eAAeyB,EAASC,KACzCC,QAAS,E,GAGrB,GACF,IAIN9B,EAAoBE,iBAAiB,SA0BrC,SAA6BI,GAC3B,MAAMyB,EAAmBzB,EAAEE,OAAOwB,UAClC,IAAIC,EAAW,GACfX,oBACGX,MAAKC,IACJX,EAA+Bc,UAAY,GAC3C,MAAMmB,EAAgBtB,EACnBuB,QAAOX,GACCA,EAAKE,YAAcK,IAE3BR,KAAIC,GAAQA,EAAKG,QACpBM,EAASG,QAAQF,GACeD,EAAS,GACjBV,KAAIC,IAC1BvB,EAA+BwB,mBAC7B,YAIA,YAAYD,EAAKK,oGAEwBL,EAAKR,+FACVQ,EAAKP,yDACPO,EAAKN,yBAGxC,GACD,IAEHE,OAAMC,GAAOR,QAAQC,IAAIO,I,IAtD9BtB,EAAcG,iBAAiB,SAAS,KACtCoB,oBAAoBX,MAAKC,IACvBX,EAA+Bc,UAAY,GAE3CH,EAAKW,KAAIC,IACPvB,EAA+BwB,mBAC7B,YACA,OAAOD,EAAKE,kBAEdF,EAAKG,MAAMJ,KAAIK,IACTA,EAASF,YAAcF,EAAKE,WAC9BzB,EAA+BwB,mBAC7B,YACA,YAAYG,EAASC,8BACXD,EAASZ,iEACfY,EAASX,4BACVW,EAASV,2BAEb,GAEH,GACF,GACF,IAmCJmB,gBACG1B,MAAKC,IAEJ,GADAX,EAA+Bc,UAAY,IACtCH,EACH,MAAM,IAAI0B,MAAM,SAElB,OAAO1B,EAAKW,KAAIgB,GACdvC,EAAoByB,mBAClB,YACA,8BAA8Bc,EAASb,mBAE1C,IAEFN,OAAMC,GAAOR,QAAQC,IAAIO,KAE5BC,oBACGX,MAAKC,IACJ,IAAKA,EACH,MAAM,IAAI0B,MAAM,QAAQ,IAG3BlB,OAAMC,GAAOR,QAAQC,IAAIO","sources":["src/index.js","src/js/modal.js"],"sourcesContent":["\nimport { openModal } from './js/modal.js';\nimport { closeModal } from './js/modal.js';\n// import SimpleLightbox from 'simplelightbox';\nconst modalContent = document.querySelector('.modal-content');\nconst closeModalBtn = document.querySelector('.close');\n\nconst allCategories = document.querySelector('.all-categories-js');\nconst categorySectionList = document.querySelector('.book-kategories-list-js');\nconst sectionSelectedBooksByCategory =\n  document.querySelector('.books-by-category');\n\ncloseModalBtn.addEventListener('click', closeModal);\nsectionSelectedBooksByCategory.addEventListener('click', e => {\n  openModal();\n  getBookById(e.target.parentElement.id)\n    .then(resp => {\n      console.log(resp);\n      modalContent.innerHTML = ` <img src=\"${resp.book_image}\" alt=\"\">\n      <h4>${resp.title}</h4>\n      <p>${resp.author}</p>\n      <p>${resp.description}</p>\n      `;\n    })\n    .catch(err => console.log(err));\n});\nstartPage();\nfunction startPage() {\n  getBookByCategory().then(resp => {\n    resp.map(book => {\n      sectionSelectedBooksByCategory.insertAdjacentHTML(\n        'beforeend',\n        `\n  <h2>${book.list_name}</h2>\n  `\n      );\n      book.books.map(thisBook => {\n        if (thisBook.list_name === book.list_name) {\n          sectionSelectedBooksByCategory.insertAdjacentHTML(\n            'beforeend',\n            `<div id=\"${thisBook._id}\" hidden>\n          <img src=\"${thisBook.book_image}\" alt=\"\" loading=\"lazy\" width=\"335\">\n          <h4>${thisBook.title}</h4>\n          <p>${thisBook.author}</p>\n      </div>`\n          );\n          if (book.books[0].title === thisBook.title) {\n            const element = document.getElementById(thisBook._id);\n            element.hidden = false;\n          }\n        }\n      });\n    });\n  });\n}\n\ncategorySectionList.addEventListener('click', pushBooksByCategory);\nallCategories.addEventListener('click', () => {\n  getBookByCategory().then(resp => {\n    sectionSelectedBooksByCategory.innerHTML = '';\n\n    resp.map(book => {\n      sectionSelectedBooksByCategory.insertAdjacentHTML(\n        'beforeend',\n        `<h2>${book.list_name}</h2>`\n      );\n      book.books.map(thisBook => {\n        if (thisBook.list_name === book.list_name) {\n          sectionSelectedBooksByCategory.insertAdjacentHTML(\n            'beforeend',\n            `<div id=\"${thisBook._id}\">\n          <img src=\"${thisBook.book_image}\" alt=\"\" loading=\"lazy\" width=\"335\">\n          <h4>${thisBook.title}</h4>\n          <p>${thisBook.author}</p>\n      </div>`\n          );\n        }\n      });\n    });\n  });\n});\n\nfunction pushBooksByCategory(e) {\n  const selectedCategory = e.target.outerText;\n  let booksArr = [];\n  getBookByCategory()\n    .then(resp => {\n      sectionSelectedBooksByCategory.innerHTML = '';\n      const filteredBooks = resp\n        .filter(book => {\n          return book.list_name === selectedCategory;\n        })\n        .map(book => book.books);\n      booksArr.push(...filteredBooks);\n      const filteredByCategoryBooks = booksArr[0];\n      filteredByCategoryBooks.map(book => {\n        sectionSelectedBooksByCategory.insertAdjacentHTML(\n          'beforeend',\n\n\n\n          `<div id='${book._id}' class=\"section-book-card section-card\">\n\n        <img class=\"section-book-card-img\"  src=\"${book.book_image}\" alt=\"\" loading=\"lazy\" width=\"335\">\n        <h4 class=\"section-book-card-title\">${book.title}</h4>\n        <p class=\"section-book-card-text\">${book.author}</p>\n    </div>`\n\n        );\n      });\n    })\n    .catch(err => console.log(err));\n}\n\ngetCategories()\n  .then(resp => {\n    sectionSelectedBooksByCategory.innerHTML = '';\n    if (!resp) {\n      throw new Error('error');\n    }\n    return resp.map(category =>\n      categorySectionList.insertAdjacentHTML(\n        'beforeend',\n        `<li class =\"book-category\">${category.list_name}</li>`\n      )\n    );\n  })\n  .catch(err => console.log(err));\n\ngetBookByCategory()\n  .then(resp => {\n    if (!resp) {\n      throw new Error('error');\n    }\n  })\n  .catch(err => console.log(err));\n","export function openModal() {\n    document.getElementById(\"myModal\").style.display = \"block\";\n  }\n  export function closeModal() {\n    document.getElementById(\"myModal\").style.display = \"none\";\n  }  "],"names":["$1f0dc3b9307be026$var$modalContent","document","querySelector","$1f0dc3b9307be026$var$closeModalBtn","$1f0dc3b9307be026$var$allCategories","$1f0dc3b9307be026$var$categorySectionList","$1f0dc3b9307be026$var$sectionSelectedBooksByCategory","addEventListener","getElementById","style","display","e","getBookById","target","parentElement","id","then","resp","console","log","innerHTML","book_image","title","author","description","catch","err","getBookByCategory","map","book","insertAdjacentHTML","list_name","books","thisBook","_id","hidden","selectedCategory","outerText","booksArr","filteredBooks","filter","push","getCategories","Error","category"],"version":3,"file":"index.578a88df.js.map"}